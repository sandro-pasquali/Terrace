(function(b){b.extend(true,window,{Slick:{Plugins:{HeaderMenu:a}}});function a(q){var l;var j=this;var n=new Slick.EventHandler();var d={buttonCssClass:null,buttonImage:"../images/down.gif"};var c;var e;function p(r){q=b.extend(true,{},d,q);l=r;n.subscribe(l.onHeaderCellRendered,h).subscribe(l.onBeforeHeaderCellDestroy,g);l.setColumns(l.getColumns());b(document.body).bind("mousedown",i)}function m(){n.unsubscribeAll();b(document.body).unbind("mousedown",i)}function i(r){if(c&&c[0]!=r.target&&!b.contains(c[0],r.target)){k()}}function k(){if(c){c.remove();c=null;e.removeClass("slick-header-column-active")}}function h(u,r){var t=r.column;var v=t.header&&t.header.menu;if(v){var s=b("<div></div>").addClass("slick-header-menubutton").data("column",t).data("menu",v);if(q.buttonCssClass){s.addClass(q.buttonCssClass)}if(q.buttonImage){s.css("background-image","url("+q.buttonImage+")")}if(v.tooltip){s.attr("title",v.tooltip)}s.bind("click",o).appendTo(r.node)}}function g(t,r){var s=r.column;if(s.header&&s.header.menu){b(r.node).find(".slick-header-menubutton").remove()}}function o(w){var t=b(this);var x=t.data("menu");var s=t.data("column");if(j.onBeforeMenuShow.notify({grid:l,column:s,menu:x},w,j)==false){return}if(!c){c=b("<div class='slick-header-menu'></div>").appendTo(document.body)}c.empty();for(var u=0;u<x.items.length;u++){var v=x.items[u];var y=b("<div class='slick-header-menuitem'></div>").data("command",v.command||"").data("column",s).data("item",v).bind("click",f).appendTo(c);if(v.disabled){y.addClass("slick-header-menuitem-disabled")}if(v.tooltip){y.attr("title",v.tooltip)}var r=b("<div class='slick-header-menuicon'></div>").appendTo(y);if(v.iconCssClass){r.addClass(v.iconCssClass)}if(v.iconImage){r.css("background-image","url("+v.iconImage+")")}b("<span class='slick-header-menucontent'></span>").text(v.title).appendTo(y)}c.css("top",b(this).offset().top+b(this).height()).css("left",b(this).offset().left);e=t.closest(".slick-header-column");e.addClass("slick-header-column-active")}function f(t){var u=b(this).data("command");var r=b(this).data("column");var s=b(this).data("item");if(s.disabled){return}k();if(u!=null&&u!=""){j.onCommand.notify({grid:l,column:r,command:u,item:s},t,j)}t.preventDefault();t.stopPropagation()}b.extend(this,{init:p,destroy:m,onBeforeMenuShow:new Slick.Event(),onCommand:new Slick.Event()})}})(jQuery);