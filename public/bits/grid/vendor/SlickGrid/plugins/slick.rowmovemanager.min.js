(function(a){a.extend(true,window,{Slick:{RowMoveManager:b}});function b(o){var h;var f;var n;var g=this;var l=new Slick.EventHandler();var d={cancelEditOnDrag:false};function m(p){o=a.extend(true,{},d,o);h=p;f=h.getCanvasNode();l.subscribe(h.onDragInit,j).subscribe(h.onDragStart,e).subscribe(h.onDrag,c).subscribe(h.onDragEnd,i)}function k(){l.unsubscribeAll()}function j(q,p){q.stopImmediatePropagation()}function e(t,q){var p=h.getCellFromEvent(t);if(o.cancelEditOnDrag&&h.getEditorLock().isActive()){h.getEditorLock().cancelCurrentEdit()}if(h.getEditorLock().isActive()||!/move|selectAndMove/.test(h.getColumns()[p.cell].behavior)){return false}n=true;t.stopImmediatePropagation();var s=h.getSelectedRows();if(s.length==0||a.inArray(p.row,s)==-1){s=[p.row];h.setSelectedRows(s)}var r=h.getOptions().rowHeight;q.selectedRows=s;q.selectionProxy=a("<div class='slick-reorder-proxy'/>").css("position","absolute").css("zIndex","99999").css("width",a(f).innerWidth()).css("height",r*s.length).appendTo(f);q.guide=a("<div class='slick-reorder-guide'/>").css("position","absolute").css("zIndex","99998").css("width",a(f).innerWidth()).css("top",-1000).appendTo(f);q.insertBefore=-1}function c(t,p){if(!n){return}t.stopImmediatePropagation();var s=t.pageY-a(f).offset().top;p.selectionProxy.css("top",s-5);var q=Math.max(0,Math.min(Math.round(s/h.getOptions().rowHeight),h.getDataLength()));if(q!==p.insertBefore){var r={rows:p.selectedRows,insertBefore:q};if(g.onBeforeMoveRows.notify(r)===false){p.guide.css("top",-1000);p.canMove=false}else{p.guide.css("top",q*h.getOptions().rowHeight);p.canMove=true}p.insertBefore=q}}function i(r,p){if(!n){return}n=false;r.stopImmediatePropagation();p.guide.remove();p.selectionProxy.remove();if(p.canMove){var q={rows:p.selectedRows,insertBefore:p.insertBefore};g.onMoveRows.notify(q)}}a.extend(this,{onBeforeMoveRows:new Slick.Event(),onMoveRows:new Slick.Event(),init:m,destroy:k})}})(jQuery);