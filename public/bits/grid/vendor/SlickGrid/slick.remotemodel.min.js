(function(b){function a(){var l=50;var t={length:0};var k="apple";var d=null;var o=1;var h=null;var c=null;var r=new Slick.Event();var p=new Slick.Event();function s(){}function n(w,v){for(var u=w;u<=v;u++){if(t[u]==undefined||t[u]==null){return false}}return true}function q(){for(var u in t){delete t[u]}t.length=0}function g(z,y){if(c){c.abort();for(var v=c.fromPage;v<=c.toPage;v++){t[v*l]=undefined}}if(z<0){z=0}var x=Math.floor(z/l);var w=Math.floor(y/l);while(t[x*l]!==undefined&&x<w){x++}while(t[w*l]!==undefined&&x<w){w--}if(x>w||((x==w)&&t[x*l]!==undefined)){return}var u="http://services.digg.com/search/stories?query="+k+"&offset="+(x*l)+"&count="+(((w-x)*l)+l)+"&appkey=http://slickgrid.googlecode.com&type=javascript";switch(d){case"diggs":u+=("&sort="+((o>0)?"digg_count-asc":"digg_count-desc"));break}if(h!=null){clearTimeout(h)}h=setTimeout(function(){for(var A=x;A<=w;A++){t[A*l]=null}r.notify({from:z,to:y});c=b.jsonp({url:u,callbackParameter:"callback",cache:true,success:j,error:function(){m(x,w)}});c.fromPage=x;c.toPage=w},50)}function m(v,u){alert("error loading pages "+v+" to "+u)}function j(v){var x=this.fromPage*l,w=x+v.count;t.length=parseInt(v.total);for(var u=0;u<v.stories.length;u++){t[x+u]=v.stories[u];t[x+u].index=x+u}c=null;p.notify({from:x,to:w})}function i(w,v){for(var u=w;u<=v;u++){delete t[u]}g(w,v)}function f(v,u){d=v;o=u;q()}function e(u){k=u;q()}s();return{data:t,clear:q,isDataLoaded:n,ensureData:g,reloadData:i,setSort:f,setSearch:e,onDataLoading:r,onDataLoaded:p}}b.extend(true,window,{Slick:{Data:{RemoteModel:a}}})})(jQuery);