Terrace.subscribe("bit:bracelet:loaded",function(c){var a=function(d){var h=document;var i=h.documentElement;var g=this;var f={"fill-opacity":1,"font-weight":1,"line-height":1,opacity:1,orphans:1,widows:1,"z-index":1,zoom:1};var e=function(n,o){var l=/^\d+(px)?$/i;var p=n;var m=n.runtimeStyle;var j;var k;if(l.test(o)){return parseInt(o)}if(m){k=p.style.left;j=m.left;m.left=p.currentStyle.left;p.style.left=o||0;o=p.style.pixelLeft;p.style.left=k;m.left=j}return o};g.handlers={};g.Animation=function(q,p,o,n,j){var l=0;var k;var m=setInterval(function(){l++;var r=l;if(l<=o){r/=o;r--;n(k=p*(r*r*r*r*r+1)+q)}else{j&&j(k);clearInterval(m)}},1)};g.findPos=function(l){var k=0;var j=0;if(l.offsetParent){while(l.offsetParent){k+=l.offsetLeft;j+=l.offsetTop;l=l.offsetParent}}else{if(l.x){k+=l.x;j+=l.y}}return{left:k,top:j}};g.empty=function(j){while(j.hasChildNodes()){j.removeChild(j.firstChild)}};g.css=function(){var j=Array.prototype.slice.apply(arguments);var o=j[0];var l=j[1];var p="";var n=!isNaN(parseFloat(l))&&isFinite(l);var k;var m;o=o.replace(/[A-Z]/g,"-$&").toLowerCase();if(j.length===3){return j[2].style[o]=l+(f[o]||!n?"":"px")}if(document.defaultView&&document.defaultView.getComputedStyle){k=document.defaultView.getComputedStyle(l,null);p=k?k.getPropertyValue(o):null}else{if(l.currentStyle){o=o.replace(/\-(\w)/g,function(q,r){return r.toUpperCase()});p=l.currentStyle[o]}}return e(l,p)};g.hasClass=function(k,j){j=j||g.eventInfo.el;return j.getAttribute("class").match(new RegExp("(\\s|^)"+k+"(\\s|$)"))};g.addClass=function(k,j){j=j||g.eventInfo(k,j);if(!g.hasClass(k)){j.className+=" "+k}};g.removeClass=function(k,j){j=j||g.eventInfo.el;j.className=j.className.replace(k,"")};g.eventInfo={css:function(k,l){var j=g.eventInfo.el;if(l===void 0){return g.css(k,j)}return g.css(k,l,j)},hasClass:g.hasClass,addClass:g.addClass,removeClass:g.removeClass};g.monitor=function(p){var o=g.eventInfo;var n=p||window.event;var l=[];var m;var j;o.el=n.srcElement||n.target;o.x=n.pageX||n.clientX+i.scrollLeft;o.y=n.pageY||n.clientY+i.scrollTop;var k=o.el;var q=g.findPos(k);o.left=q.left;o.top=q.top;o.width=k.offsetWidth;o.right=o.left+o.width;o.height=k.offsetHeight;o.parent=k.parentNode;o.type=n.type;o.id=k.getAttribute("id");o.group=k.getAttribute("data-"+d);o.tag=k.nodeName||false;if(j=g.handlers[o.type]){for(m in j){if(o.group&&o.group.match(l[m]||(l[m]=new RegExp("(\\s|^)"+m+"(\\s|$)")))){j[m](o)}}}};g.addEvent=function(l,k,j){if(l.addEventListener){l.addEventListener(k,j,false)}else{if(l.attachEvent){l.attachEvent("on"+k,j)}else{l["on"+k]=j}}};g.on=function(o,j,p){o=o.split(" ");j=j.split(" ");var m=o.length;var l=this.handlers;var k;var n;while(m--){n=o[m];if(!l[n]){this.addEvent(h,n,this.monitor);l[n]={}}k=j.length;while(k--){l[n][j[k]]=p}}};g.off=function(m,j){m=m.split(" ");j=j.split(" ");var o=m.length;var k=j.length;var n=this.handlers;var l;while(o--){l=m[o];while(l&&k--){delete n[l][j[k]]}}}};var b=function(u,h){var i=this;var s=new a("blind");var p=s.css;var A="width";var e="height";var C="top";var d="left";var q=h.cycle!==void 0?h.cycle:true;var g=h.orientation==="vertical"?-1:1;var B=h.forceDirection===void 0?true:false;var r=document.getElementById(u);var o;var t;var D=0;var l;var m;var k=[];var x=0;var n=0;var v=false;var z=function(E){return typeof Node==="object"?E instanceof Node:E&&typeof E==="object"&&typeof E.nodeType==="number"&&typeof E.nodeName==="string"};var j=function(G,F){var E=k.length;while(E--){if(E!==G){p(F,o+t,k[E])}}};var y=function(){o=p(A,r);t=p(e,r)};var w=function(G,F){var H=k[F+1];var E=document.createElement("div");E.appendChild(G);if(k.length===0||!H){m.appendChild(E)}else{m.insertBefore(E,H)}E.setAttribute("class","bracelet-charm");p("position","absolute",E);k.splice(F,0,E)};var f=function(I,E){var G=k[n];var H=k[x];var F=function(N,K,O){var Q=-N;var P=0;var R=0;var M=N;var L=function(S){m.style[K]=S+"px"};var J=function(){j(x,O);E&&E()};p(O,0,G);p(O,0,H);if(I===-1){R=N;M=0;Q=N;P=-N}p(K,P,m);p(K,R,G);p(K,M,H);if(I===0){L(P+Q);J()}else{new s.Animation(P,Q,h.speed||200,L,J)}};g===1?F(o,d,C):F(t,C,d)};i.nextIndex=function(){if((x+1)>(k.length-1)){if(q){return 0}return null}return x+1};i.previousIndex=function(){if((x-1)<0){if(q){return k.length-1}return null}return x-1};i.next=function(){i.moveTo(i.nextIndex(),1)};i.previous=function(){i.moveTo(i.previousIndex(),-1)};i.prev=i.previous;i.prevIndex=i.previousIndex;i.moveTo=function(E,F){if(v===true||E===x){return}if(F!==0&&B){F=E>x?1:-1}if(E!==null&&k[E]){v=true;n=x;x=E;f(F,function(G){v=false})}};i.current=function(){return x};i.add=function(I,F){var H={};var G=[];var E=k.length;F=F===void 0?E:F;if(F>E){F=E}else{if(F<0){F=0}}if(F>=0&&F<=E){if(z(I)&&I.nodeType===1){w(I,F)}else{if(I.url){w("ajax data",F)}}}};i.destroy=function(E){var F=k[E];if(F){F.parentNode.removeChild(F);k.splice(E,1);i.moveTo(E,1)}};i.resize=function(){var F=k;var E=F.length;var H=g===1;var G=F[x];y();j(x,H?C:d);while(E--){if(H){p(d,o*E,F[E]);p(C,0,G)}else{p(C,t*E,F[E]);p(d,0,G)}p(A,o,F[E]);p(e,t,F[E])}p("clip","rect(0px, "+o+"px, "+t+"px, 0px)",l);i.moveTo(x,0)};l=document.createElement("div");p("position","absolute",l);p("overflow","hidden",l);p(A,10000,l);p(e,10000,l);m=document.createElement("div");p("position","absolute",m);l.appendChild(m);while(r.hasChildNodes()){i.add(r.removeChild(r.firstChild),D);++D}r.appendChild(l);i.resize()};c.model.set({charms:["http://soulinthemachine.com/dev/wp-content/uploads/2011/08/37.jpg","http://graphics8.nytimes.com/images/2012/02/28/arts/JP-DESIGN-1/JP-DESIGN-1-articleLarge.jpg","http://4.bp.blogspot.com/_ue2_vDGeEV8/TGwi5oOiL2I/AAAAAAAAC8I/vN92gVkQEYs/s1600/modernarchitect.jpg","http://www.trendir.com/house-design/modern-spanish-architecture-8.jpg"]});brace=new b("starter",{cycle:true,speed:100});window.onresize=brace.resize});