Terrace.subscribe("bit:ui:loaded",function(a){(function(b){b.fn.noUiSlider=function(c,l){function g(o){return o<0}function n(o){return Math.abs(o)}function k(p,o){return Math.round(p/o)*o}function e(o){return jQuery.extend(true,{},o)}var h,f,d,l=l||[],j,i=("ontouchstart" in document.documentElement);h={handles:2,connect:true,scale:[0,100],start:[10,90],to:0,handle:0,change:"",end:"",step:false,save:false,click:true};d={scale:function(p,o,s){var r=o[0],q=o[1];if(g(r)){p=p+n(r);q=q+n(r)}else{p=p-r;q=q-r}return(p*s)/q},deScale:function(p,o,s){var r=o[0],q=o[1];q=g(r)?q+n(r):q-r;return((p*q)/s)+r},connect:function(o){if(o.connect){if(o.handles.length>1){o.connect.css({left:o.low.left(),right:(o.slider.innerWidth()-o.up.left())})}else{o.low?o.connect.css({left:o.low.left(),right:0}):o.connect.css({left:0,right:(o.slider.innerWidth()-o.up.left())})}}},left:function(){return parseFloat(b(this).css("left"))},call:function(p,o,q){if(typeof(p)=="function"){p.call(o,q)}},bounce:function(o,s,r,q){var p=false;if(q.is(o.up)){if(o.low&&s<o.low.left()){s=o.low.left();p=true}}else{if(o.up&&s>o.up.left()){s=o.up.left();p=true}}if(s>o.slider.innerWidth()){s=o.slider.innerWidth();p=true}else{if(s<0){s=0;p=true}}return[s,p]}};f={init:function(){return this.each(function(){var p,q,o;q=b(this).css("position","relative");o=new Object();o.options=b.extend(h,l);p=o.options;typeof p.start=="object"?1:p.start=[p.start];o.slider=q;o.low=b('<div class="noUi-handle noUi-lowerHandle"><div></div></div>');o.up=b('<div class="noUi-handle noUi-upperHandle"><div></div></div>');o.connect=b('<div class="noUi-midBar"></div>');p.connect?o.connect.appendTo(o.slider):o.connect=false;if(p.knobs){p.handles=p.knobs}if(p.handles===1){if(p.connect===true||p.connect==="lower"){o.low=false;o.up=o.up.appendTo(o.slider);o.handles=[o.up]}else{if(p.connect==="upper"||!p.connect){o.low=o.low.prependTo(o.slider);o.up=false;o.handles=[o.low]}}}else{o.low=o.low.prependTo(o.slider);o.up=o.up.appendTo(o.slider);o.handles=[o.low,o.up]}if(o.low){o.low.left=d.left}if(o.up){o.up.left=d.left}o.slider.children().css("position","absolute");b.each(o.handles,function(r){b(this).css({left:d.scale(p.start[r],o.options.scale,o.slider.innerWidth()),zIndex:r+1}).children().bind(i?"touchstart.noUi":"mousedown.noUi",j.start)});if(p.click){o.slider.click(j.click).find("*:not(.noUi-midBar)").click(j.flse)}d.connect(o);o.options=p;o.slider.data("api",o)})},move:function(){var o,q,s,p,r;o=e(b(this).data("api"));o.options=b.extend(o.options,l);if(o.options.knob){o.options.handle=o.options.knob}p=o.options.handle;p=o.handles[p=="lower"||p==0||typeof p=="undefined"?0:1];q=d.bounce(o,d.scale(o.options.to,o.options.scale,o.slider.innerWidth()),p.left(),p);p.css("left",q[0]);if((p.is(o.up)&&p.left()==0)||(p.is(o.low)&&p.left()==o.slider.innerWidth())){p.css("zIndex",parseInt(p.css("zIndex"))+2)}if(l.save===true){o.options.scale=l.scale;b(this).data("api",o)}d.connect(o);d.call(o.options.change,o.slider,"move");d.call(o.options.end,o.slider,"move")},value:function(){var q,p,o;o=e(b(this).data("api"));o.options=b.extend(o.options,l);q=o.low?Math.round(d.deScale(o.low.left(),o.options.scale,o.slider.innerWidth())):false;p=o.up?Math.round(d.deScale(o.up.left(),o.options.scale,o.slider.innerWidth())):false;if(l.save){o.options.scale=l.scale;b(this).data("api",o)}return[q,p]},api:function(){return b(this).data("api")},disable:function(){return this.each(function(){b(this).addClass("disabled")})},enable:function(){return this.each(function(){b(this).removeClass("disabled")})}},j={start:function(o){if(!b(this).parent().parent().hasClass("disabled")){o.preventDefault();b("body").bind("selectstart.noUi",j.flse);b(this).addClass("noUi-activeHandle");b(document).bind(i?"touchmove.noUi":"mousemove.noUi",j.move);i?b(this).bind("touchend.noUi",j.end):b(document).bind("mouseup.noUi",j.end)}},move:function(w){var v=new Object(),r,q,s=false,u,t;r=b(".noUi-activeHandle");q=r.parent().parent().data("api");u=r.parent().is(q.low)?q.low:q.up;v.nw=w.pageX-Math.round(q.slider.offset().left);if(isNaN(v.nw)){v.nw=w.originalEvent.touches[0].pageX-Math.round(q.slider.offset().left)}v.cur=u.left();t=d.bounce(q,v.nw,v.cur,u);v.nw=t[0];s=t[1];if(q.options.step&&!s){m=q.options.step==q.options.scale[0]?2:1;var o=d.scale(q.options.step*m,q.options.scale,q.slider.innerWidth());if(Math.abs(v.cur-v.nw)>=o){v.nw=v.nw<v.cur?v.cur-o:v.cur+o;s=true}}else{s=true}if(v.nw===v.cur){s=false}if(s){u.css("left",v.nw);if((u.is(q.up)&&u.left()==0)||(u.is(q.low)&&u.left()==q.slider.innerWidth())){u.css("zIndex",parseInt(u.css("zIndex"))+2)}d.connect(q);d.call(q.options.change,q.slider,"slide")}},end:function(){var p,o;p=b(".noUi-activeHandle");o=p.parent().parent().data("api");b(document).add("body").add(p.removeClass("noUi-activeHandle").parent()).unbind(".noUi");d.call(o.options.end,o.slider,"slide")},click:function(q){if(!b(this).hasClass("disabled")){var p=b(this).data("api");var o=p.options;var r=q.pageX-p.slider.offset().left;r=o.step?k(r,d.scale(o.step,o.scale,p.slider.innerWidth())):r;if(p.low&&p.up){r<((p.low.left()+p.up.left())/2)?p.low.css("left",r):p.up.css("left",r)}else{p.handles[0].css("left",r)}d.connect(p);d.call(o.change,p.slider,"click");d.call(o.end,p.slider,"click")}},flse:function(){return false}};if(f[c]){return f[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return f.init.apply(this,arguments)}else{b.error("No such method: "+c)}}}})(jQuery)});